/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
var Mustache=typeof module!="undefined"&&module.exports||{};(function(n){function p(n){return b.test(n)}function d(n){return String(n).replace(/&(?!\w+;)|[<>"']/g,function(n){return k[n]||n})}function i(n,t,i,r){var u,e;r=r||"<template>";var s=t.split("\n"),h=Math.max(i-3,0),c=Math.min(s.length,i+3),f=s.slice(h,c),o;for(u=0,e=f.length;u<e;++u)o=u+h+1,f[u]=(o===i?" >> ":"    ")+f[u];return n.template=t,n.line=i,n.file=r,n.message=[r+":"+i,f.join("\n"),"",n.message].join("\n"),n}function h(n,t,i){if(n===".")return t[t.length-1];for(var o=n.split("."),h=o.length-1,s=o[h],u,r,c=t.length,e,f;c;){for(f=t.slice(0),r=t[--c],e=0;e<h;){if(r=r[o[e++]],r==null)break;f.push(r)}if(r&&typeof r=="object"&&s in r){u=r[s];break}}return(typeof u=="function"&&(u=u.call(f[f.length-1])),u==null)?i:u}function nt(n,t,i,r){var o="",e=h(n,t),c,l;return r?(e==null||e===!1||f(e)&&e.length===0)&&(o+=i()):f(e)?s(e,function(n){t.push(n),o+=i(),t.pop()}):typeof e=="object"?(t.push(e),o+=i(),t.pop()):typeof e=="function"?(c=t[t.length-1],l=function(n){return u(n,c)},o+=e.call(c,i(),l)||""):e&&(o+=i()),o}function l(r,u){var f,ft,d,rt,k,g;u=u||{};var a=u.tags||n.tags,v=a[0],h=a[a.length-1],e=['var buffer = "";',"\nvar line = 1;","\ntry {",'\nbuffer += "'],w=[],it=!1,y=!1,ut=function(){if(!it||y||u.space)w=[];else while(w.length)e.splice(w.pop(),1);it=!1,y=!1},s=[],b,tt,nt,ht=function(n){a=t(n).split(/\s+/),tt=a[0],nt=a[a.length-1]},ct=function(n){e.push('";',b,'\nvar partial = partials["'+t(n)+'"];',"\nif (partial) {","\n  buffer += render(partial,stack[stack.length - 1],partials);","\n}",'\nbuffer += "')},et=function(n,f){var o=t(n);if(o==="")throw i(new Error("Section name may not be empty"),r,l,u.file);s.push({name:o,inverted:f}),e.push('";',b,'\nvar name = "'+o+'";',"\nvar callback = (function () {","\n  return function () {",'\n    var buffer = "";','\nbuffer += "')},st=function(n){et(n,!0)},ot=function(n){var h=t(n),o=s.length!=0&&s[s.length-1].name,f;if(!o||h!=o)throw i(new Error('Section named "'+h+'" was never opened'),r,l,u.file);f=s.pop(),e.push('";',"\n    return buffer;","\n  };","\n})();"),f.inverted?e.push("\nbuffer += renderSection(name,stack,callback,true);"):e.push("\nbuffer += renderSection(name,stack,callback);"),e.push('\nbuffer += "')},at=function(n){e.push('";',b,'\nbuffer += lookup("'+t(n)+'",stack,"");','\nbuffer += "')},lt=function(n){e.push('";',b,'\nbuffer += escapeHTML(lookup("'+t(n)+'",stack,""));','\nbuffer += "')},l=1,c,o;for(f=0,ft=r.length;f<ft;++f)if(r.slice(f,f+v.length)===v){f+=v.length,c=r.substr(f,1),b="\nline = "+l+";",tt=v,nt=h,it=!0;switch(c){case"!":f++,o=null;break;case"=":f++,h="="+h,o=ht;break;case">":f++,o=ct;break;case"#":f++,o=et;break;case"^":f++,o=st;break;case"/":f++,o=ot;break;case"{":h="}"+h;case"&":f++,y=!0,o=at;break;default:y=!0,o=lt}if(d=r.indexOf(h,f),d===-1)throw i(new Error('Tag "'+v+'" was not closed properly'),r,l,u.file);for(rt=r.substring(f,d),o&&o(rt),k=0;~(k=rt.indexOf("\n",k));)l++,k++;f=d+h.length-1,v=tt,h=nt}else{c=r.substr(f,1);switch(c){case'"':case"\\":y=!0,e.push("\\"+c);break;case"\r":break;case"\n":w.push(e.length),e.push("\\n"),ut(),l++;break;default:p(c)?w.push(e.length):y=!0,e.push(c)}}if(s.length!=0)throw i(new Error('Section "'+s[s.length-1].name+'" was not closed properly'),r,l,u.file);return ut(),e.push('";',"\nreturn buffer;","\n} catch (e) { throw {error: e, line: line}; }"),g=e.join("").replace(/buffer \+= "";\n/g,""),u.debug&&(typeof console!="undefined"&&console.log?console.log(g):typeof print=="function"&&print(g)),g}function v(n,t){var e="view,partials,stack,lookup,escapeHTML,renderSection,render",f=l(n,t),r=new Function(e,f);return function(f,e){e=e||{};var o=[f];try{return r(f,e,o,h,d,nt,u)}catch(s){throw i(s.error,n,s.line,t.file);}}}function g(){r={}}function a(n,t){return(t=t||{},t.cache!==!1)?(r[n]||(r[n]=v(n,t)),r[n]):v(n,t)}function u(n,t,i){return a(n)(t,i)}var s,b,t,e,o,k,r;n.name="mustache.js",n.version="0.5.0-dev",n.tags=["{{","}}"],n.parse=l,n.compile=a,n.render=u,n.clearCache=g,n.to_html=function(n,t,i,r){var f=u(n,t,i);if(typeof r=="function")r(f);else return f};var tt=Object.prototype.toString,c=Array.isArray,y=Array.prototype.forEach,w=String.prototype.trim,f;f=c?c:function(n){return tt.call(n)==="[object Array]"},s=y?function(n,t,i){return y.call(n,t,i)}:function(n,t,i){for(var r=0,u=n.length;r<u;++r)t.call(i,n[r],r,n)},b=/^\s*$/,w?t=function(n){return n==null?"":w.call(n)}:(p("Â ")?(e=/^\s+/,o=/\s+$/):(e=/^[\s\xA0]+/,o=/[\s\xA0]+$/),t=function(n){return n==null?"":String(n).replace(e,"").replace(o,"")}),k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},r={}})(Mustache);